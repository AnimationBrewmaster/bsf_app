<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Biosand Filter App</title>
        <meta name="description" content="An interactive learning resource for the biosand filter">
        <link rel="stylesheet" href="main.css">
  
        
    </head>
    <body onload="getLocation()">
        <h1><a href="chapter02a/chapter02a.html">The Parts and Functions of the Biosand Filter</a></h1>
        <p id="location"></p>
         <script>
            var x = document.getElementById("location");
            function getLocation() {
                console.log("getting Location");
                x.innerHTML = "getting Location";
                if (navigator.geolocation) {
                    x.innerHTML = "checking Location";
                    navigator.geolocation.getCurrentPosition(showPosition, showError, {
                        enableHighAccuracy : true,
                        timeout : 10000, // 10s
                        }
                    );
                } else { 
                    console.log("Geolocation is not supported by this browser.");
                    x.innerHTML = "Geolocation is not supported by this browser.";
                }
            }            
            function showPosition(position) {
                x.innerHTML = "Geolocation processing...";
                console.log("Latitude: " + position.coords.latitude);
                console.log("Longitude: " + position.coords.longitude);
                x.innerHTML = "Latitude: " + position.coords.latitude + 
                "<br>Longitude: " + position.coords.longitude;	
            }
            function showError(error) {
                switch(error.code) {
                    case error.PERMISSION_DENIED:
                      x.innerHTML="User denied the request for Geolocation."
                      break;
                    case error.POSITION_UNAVAILABLE:
                      x.innerHTML="Location information is unavailable."
                      break;
                    case error.TIMEOUT:
                      x.innerHTML="The request to get user location timed out."
                      break;
                    case error.UNKNOWN_ERROR:
                      x.innerHTML="An unknown error occurred."
                      break;
                }
            }      
        </script> 
    </body>
</html>
