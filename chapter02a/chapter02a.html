<!DOCTYPE html>
<html>
<head>
	<meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
	<title>BSF - Chapter 02A</title>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <script type="text/javascript" charset="utf-8" src="edge_includes/edge.5.0.1.min.js"></script>
	
	<!--
    <script type="text/javascript" charset="utf-8" src="ch01_02_edge.js"></script>
	<script type="text/javascript" charset="utf-8" src="ch01_08_edge.js"></script>
	<script type="text/javascript" charset="utf-8" src="ch01_09_edge.js"></script>
	-->
	
	<!--
    <script type="text/javascript" charset="utf-8" src="page_b_edgePreload.js"></script>
    <script type="text/javascript" charset="utf-8" src="page_c_edgePreload.js"></script>
	-->
    <style>
	<!-- loading od all the Adobe edge Projects.  PAGE_A is the Composition Class set in the Adobe Edge Animate Software -->
        .edgeLoad-CH02A_02 { visibility:hidden;}
        .edgeLoad-CH02A_06 { visibility:hidden;}
        .edgeLoad-CH02A_08 { visibility:hidden;}
        .edgeLoad-CH02A_09 { visibility:hidden;}
		.edgeLoad-CH02A_11 { visibility:hidden;}
        .edgeLoad-CH02A_13 { visibility:hidden;}
        .edgeLoad-CH02A_15 { visibility:hidden;}		
        .edgeLoad-CH02A_18 { visibility:hidden;}	
		.edgeLoad-CH02A_26 { visibility:hidden;}	
		.edgeLoad-CH02A_30 { visibility:hidden;}		
        .edgeLoad-CH02A_39 { visibility:hidden;}
		
		#StageA, #StageB, #StageC, #StageD, #StageE, #StageF, #StageG, #StageH, #StageI, #StageJ, #StageK {
			position:absolute;
            z-index: -100;
			<!-- left:10px; -->
			<!-- top:20px; -->
		}
		
		
		#StageB, #StageC, #StageD, #StageE, #StageF, #StageG, #StageH, #StageI, #StageJ, #StageK {
			display:none;
		}
		
        .nav {
            visibility: hidden;
            <!-- position: absolute;
            z-index: 200; -->
        }
        
		body {
			background-color: black;
			}
        
    </style>
    <script src="scripts/var02a.js"></script>
    <script src="scripts/nav.js"></script>
	<!-- Adobe Edge project setting - set in Edge Animate -->
	<script>
	   AdobeEdge.loadComposition('ch02a_02', 'CH02A_02', {
		scaleToFit: "both",
		centerStage: "both",
		minW: "0",
		maxW: "1280px",
		width: "1280px",
		height: "800px"
	}, {"style":{"${symbolSelector}":{"isStage":"true","rect":["undefined","undefined","1280px","800px"],"fill":["rgba(255,255,255,1)"]}},"dom":[{"rect":["596","356","88px","88px","auto","auto"],"id":"preloader5","fill":["rgba(0,0,0,0)","images/preloader5.gif","0px","0px"],"type":"image","tag":"img"},{"rect":["408px","245px","auto","auto","auto","auto"],"font":["Arial, Helvetica, sans-serif",[24,"px"],"rgba(255,255,255,1.00)","400","none solid rgb(0, 0, 0)","normal","break-word","nowrap"],"id":"Text2","text":"Loading<br>The Parts &amp; Functions of the Biosand Filter","align":"center","type":"text"}]}, {"dom":{}});
	</script>
	<script>
	   AdobeEdge.loadComposition('ch02a_06', 'CH02A_06', {
		scaleToFit: "both",
		centerStage: "both",
		minW: "0",
		maxW: "1280px",
		width: "1280px",
		height: "800px"
	}, {"dom":{}}, {"dom":{}});
	</script>
	<script>
	   AdobeEdge.loadComposition('ch02a_08', 'CH02A_08', {
		scaleToFit: "both",
		centerStage: "both",
		minW: "0",
		maxW: "1280px",
		width: "1280px",
		height: "800px"
	}, {"dom":{}}, {"dom":{}});
	</script>
	<script>
	   AdobeEdge.loadComposition('ch02a_09', 'CH02A_09', {
		scaleToFit: "both",
		centerStage: "both",
		minW: "0px",
		maxW: "1280px",
		width: "1280px",
		height: "800px"
	}, {"dom":{}}, {"dom":{}});
	</script>
	<script>
	   AdobeEdge.loadComposition('ch02a_11', 'CH02A_11', {
		scaleToFit: "both",
		centerStage: "both",
		minW: "0",
		maxW: "1280px",
		width: "1280px",
		height: "800px"
	}, {"dom":{}}, {"dom":{}});
	</script>
	<script>
	   AdobeEdge.loadComposition('ch02a_13', 'CH02A_13', {
		scaleToFit: "both",
		centerStage: "both",
		minW: "0",
		maxW: "1280px",
		width: "1280px",
		height: "800px"
	}, {"dom":{}}, {"dom":{}});
	</script>
	<script>
	   AdobeEdge.loadComposition('ch02a_15', 'CH02A_15', {
		scaleToFit: "both",
		centerStage: "both",
		minW: "0",
		maxW: "1280px",
		width: "1280px",
		height: "800px"
	}, {"dom":{}}, {"dom":{}});
	</script>
	<script>
	   AdobeEdge.loadComposition('ch02a_18', 'CH02A_18', {
		scaleToFit: "both",
		centerStage: "both",
		minW: "0",
		maxW: "1280px",
		width: "1280px",
		height: "800px"
	}, {"dom":{}}, {"dom":{}});
	</script>
	<script>
	   AdobeEdge.loadComposition('ch02a_26', 'CH02A_26', {
		scaleToFit: "both",
		centerStage: "both",
		minW: "0",
		maxW: "1280px",
		width: "1280px",
		height: "800px"
	}, {"dom":{}}, {"dom":{}});
	</script>
	<script>
	   AdobeEdge.loadComposition('ch02a_30', 'CH02A_30', {
		scaleToFit: "both",
		centerStage: "both",
		minW: "0",
		maxW: "1280px",
		width: "1280px",
		height: "800px"
	}, {"dom":{}}, {"dom":{}});
	</script>
	<script>
	   AdobeEdge.loadComposition('ch02a_39', 'CH02A_39', {
		scaleToFit: "both",
		centerStage: "both",
		minW: "0",
		maxW: "1280px",
		width: "1280px",
		height: "800px"
	}, {"dom":{}}, {"dom":{}});
	</script>
    
	<script>
		//loads edge comps and sets action to load next comp when previous comp finishes playing 
		AdobeEdge.bootstrapCallback(function(compId) {
            
            // filling out wrappers array with Ids of all the comps
			loadedComps[compId] = AdobeEdge.getComposition(compId);
			console.log("initiating AdobeEdge.bootstapCallback function " + compId);
            wrappers.push(compId);
            console.log("wrappers: " + wrappers);
            wrappers.sort();
            console.log("wrappers sorted: " + wrappers);

			// now it is safe to call into the and bind to things like...
			AdobeEdge.Symbol.bindTimelineAction(compId, "stage", "Default Timeline", "complete", function(sym, e) {	
					console.log("Timeline " + wrapperCurrentPage + " Complete: " + compId);
					
				//loop
                if(compId == wrapperCurrentPage) {
                    console.log("playing " + sceneSeq + " of " + wrappers.length);
                    if (sceneSeq + 1 > wrappers.length - 1) {                      
                        console.log("can't move forward - its the end"); 
                        // here we should call the replay button and have it reset the sceneSeq and wrapperCurrentPage varaibles
                    }
                    else {
                        sym.$(stages[sceneSeq]).hide();
                        console.log("stopping comp: " + wrapperCurrentPage);
                        sceneSeq += 1;
                        console.log("new Scene Seq = " + sceneSeq);
                        wrapperCurrentPage = wrappers[sceneSeq];
                        console.log("updated wrapperCurrentPage to: " + wrapperCurrentPage);
                        console.log("loading new comp: " + wrapperCurrentPage);
                        sym.$(stages[sceneSeq]).show();						
                        loadedComps[wrapperCurrentPage].getStage().playAll(0);
                    }
                    
                }
                
		    });
            
		});
	</script>
    
    <script>
        window.onload = function() {
            AdobeEdge.bootstrapCallback(function(compId) {     
                // called when edge loads
                document.getElementById("backbutton").style.visibility = "visible";
                document.getElementById("pausebutton").style.visibility = "visible";
                document.getElementById("playbutton").style.visibility = "visible";
                document.getElementById("forwardbutton").style.visibility = "visible";
                document.getElementById("beginbutton").style.visibility = "visible";
                document.getElementById("endbutton").style.visibility = "visible";
                document.getElementById("nextbutton").style.visibility = "visible";
                document.getElementById("menubutton").style.visibility = "visible";
                console.log("turning nav buttons visible");
            });   
        }
    </script>

	
</head>
<body style="margin:0;padding:0;">
    <div id="nav buttons" style="index:100;">
        <button onclick="vc_begin();" class="nav" id="beginbutton">Begin</button>
        <button onclick="vc_back();" class="nav" id="backbutton">Back</button>
        <button onclick="vc_stop();" class="nav" id="pausebutton">Pause</button>
        <button onclick="vc_play();" class="nav" id="playbutton">Play</button>  
        <button onclick="vc_forward();" class="nav" id="forwardbutton">Forward</button>
        <button onclick="vc_end();" class="nav" id="endbutton">End</button>
        <button onclick="vc_next();" class="nav" id="nextbutton">Next</button>
        <button onclick="vc_menu();" class="nav" id="menubutton">Menu</button>
    </div>

	<div id="StageA" class="CH02A_02">
	</div>
	<div id="StageB" class="CH02A_06">
	</div>
	<div id="StageC" class="CH02A_08">
	</div>
	<div id="StageD" class="CH02A_09">
	</div>
	<div id="StageE" class="CH02A_11">
	</div>
	<div id="StageF" class="CH02A_13">
	</div>
	<div id="StageG" class="CH02A_15">
	</div>
	<div id="StageH" class="CH02A_18">
	</div>		
	<div id="StageI" class="CH02A_26">
	</div>
	<div id="StageJ" class="CH02A_30">
	</div>
	<div id="StageK" class="CH02A_39">
	</div>
</body>
</html>